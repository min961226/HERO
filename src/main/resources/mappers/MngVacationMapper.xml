<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nextLevel.hero.mngVacation.model.dao.MngVacationMapper">
	
	<!-- 휴일 -->
	<resultMap type="com.nextLevel.hero.mngVacation.model.dto.MngHolidayDTO" id="listHolidayResultMap">
		<id property="companyNo" column="COMPANY_NO"/>
		<result property="holidayNo" column="HOLIDAY_NO"/>
		<result property="calendar" column="CALENDAR"/>
		<result property="holidayDate" column="HOLIDAY_DATE"/>
		<result property="title" column="TITLE"/>
		<result property="holidayStatus" column="HOLIDAY_STATUS"/>
	</resultMap>
	
	<!-- 연차일괄조정 -->
	<resultMap type="com.nextLevel.hero.mngVacation.model.dto.AnnualVacationControlDTO" id="listAnnualResultMap">
		<id property="vacationCode" column="VACATION_CODE"/>
		<result property="vacationDays" column="VACATION_DAYS"/>
		<result property="vacationStartDate" column="VACATION_START_DATE"/>
		<result property="workYears" column="WORK_YEARS"/>
	</resultMap> 
	
	<!-- 휴일 조회 -->
	<select id="listHoliday" resultMap="listHolidayResultMap">
		SELECT 
		       A.*
		  FROM TBL_HOLIDAY A
		 WHERE A.COMPANY_NO = #{ companyNo }      
	</select>
	
	<!-- 휴일 생성 -->
	<insert id="insertPublicHoliday" parameterType="com.nextLevel.hero.mngVacation.model.dto.MngHolidayDTO">
		INSERT
		  INTO TBL_HOLIDAY A
		(
		  A.COMPANY_NO
		, A.HOLIDAY_NO
		, A.CALENDAR
		, A.HOLIDAY_DATE
		, A.TITLE
		, A.HOLIDAY_STATUS  
		)
		VALUES
		(
		  #{ companyNo }
		, SEQ_HOLIDAY.NEXTVAL
		, '양력'
		, #{ holidayDate } 
		, #{ title } 
		, #{ holidayStatus} 
		)  
	</insert> 
	
	<!-- 휴일 삭제 -->
	<delete id="holidayDelete">
		DELETE
		  FROM TBL_HOLIDAY A
		 WHERE A.HOLIDAY_NO = #{ holidayNo } 
	</delete>
	
	
	<!-- 연차일괄조정표 조회 -->
	<!-- <select id="annualList" resultMap="listAnnualResultMap" parameterType="_int">
		SELECT 
		       A.*
		  FROM TBL_VACATION_CONTROL A
		 WHERE A.VACATION_CODE = #{ vacationCode }  
	</select>   -->
	
	
	
	

</mapper>









